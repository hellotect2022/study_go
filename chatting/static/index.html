<h1> hello !! this is Chatting Application</h1>
<input type="text" name="message" placeholder="메세지 입력">
<button id="send" onclick="sendMessage()">send</button>
<button onclick="outRoom()">나가기</button>

<script src="./js/socket-io-client/socket.io.js"></script>
<script>

function sendMessage(){
    var message = document.querySelector('input[name="message"]');
    console.log(message.value)
    socket.send(message.value)
}

function outRoom(){
    // 연결 종료
    socket.close();
}

const socket = new WebSocket('ws://localhost:7777/ws');

// 연결 이벤트 핸들러
socket.addEventListener('open', (event) => {
    console.log('Connected to server');
    
    // 서버로 메시지 전송
    socket.send('Hello, server!');
});

// 서버로부터 메시지를 받는 이벤트 핸들러
socket.addEventListener('message', (event) => {
    console.log('Received message from server:', event.data);
    
    
});

// 연결 종료 이벤트 핸들러
socket.addEventListener('close', (event) => {
    console.log('Connection closed');
});

// 에러 이벤트 핸들러
socket.addEventListener('error', (event) => {
    console.error('WebSocket error:', event);
});
    // // 소켓 서버의 주소로 연결 
    // const socket = io("http://localhost:7777")

    // // 소켓 연결시의 이벤트 핸들러 
    // socket.on('connect',()=>{
    //     console.log('Connected to server');
    
    //     // 서버로 메시지를 보냅니다.
    //     socket.emit('client-message', 'Hello, server!');
    // })

    // // 서버로부터 메시지를 받는 이벤트 핸들러
    // socket.on('server-message', (message) => {
    //     console.log('Received message from server:', message);
        
    //     // 연결 종료
    //     socket.disconnect();
    // });
</script>